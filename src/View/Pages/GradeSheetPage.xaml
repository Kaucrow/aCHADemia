<Page
  x:Class="aCHADemia.View.Pages.GradeSheetPage"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:vm="clr-namespace:aCHADemia.ViewModel"
  xmlns:local="clr-namespace:aCHADemia"
  xmlns:userControls="clr-namespace:aCHADemia.View.UserControls"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:fa="http://schemas.fontawesome.io/icons/"
  Title="GradeSheetPage"
  mc:Ignorable="d"
  d:DesignHeight="768"
  d:DesignWidth="1366"
  d:DataContext="{d:DesignInstance Type=vm:GradeSheetViewModel, IsDesignTimeCreatable=True}"
  Background="{StaticResource LightBackgroundBrush}">

    <Grid>
        <fa:FontAwesome Icon="Trash"
                                                Foreground="{StaticResource LightPrimaryBrush}"
                                                Height="32" Width="32"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center"/>
        
        <userControls:BackButton Command="{Binding GoBackCommand}"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Margin="30"
                               IconBrush="{StaticResource LightPrimaryBrush}"
                               TextBrush="{StaticResource LightPrimaryBrush}"/>

        <!-- Title and main container grid -->
        <Grid
        VerticalAlignment="Center"
        HorizontalAlignment="Center"
     >
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!--  Title  -->
            <TextBlock Grid.Row="0"
                Margin="30,20,0,20"
                HorizontalAlignment="Left"
                FontFamily="{StaticResource NormalFont}"
                FontSize="18"
                FontWeight="Medium"
                Foreground="{StaticResource LightAccentBrush}"
                Text="Planilla de notas" />

            <Border Grid.Row="1"
                Width="Auto"
                Height="500"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                BorderBrush="{StaticResource LightAccentBrush}"
                BorderThickness="3"
                CornerRadius="20">

                <!--  Content Container  -->
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>
                    
                    <!--  Dropdowns  -->
                    <Grid Grid.Row="0" Margin="0,10,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!-- Course dropdown -->
                        <StackPanel Grid.Column="0" Orientation="Vertical" Margin="0,0,15,0">
                            <TextBlock
                            Margin="0,0,0,10"
                            HorizontalAlignment="Center"
                            Foreground="{StaticResource LightPrimaryBrush}"
                            FontSize="16"
                            FontWeight="Medium"
                            FontFamily="{StaticResource NormalFont}">
                            Materia:
                            </TextBlock>

                            <userControls:Dropdown 
                                Width="200"
                                ItemsSource="{Binding Courses}" 
                                SelectedItem="{Binding SelectedCourse, Mode=TwoWay}"
                                DisplayMemberPath="Name"
                                Background="{StaticResource LightBackgroundBrush}"
                                BorderBrush="#666666"
                                BorderThickness="2"
                                Foreground="{StaticResource LightPrimaryBrush}"
                                FontFamily="{StaticResource NormalFont}"
                                ArrowBrush="#666666"
                                DropdownBackground="{StaticResource LightBackgroundBrush}"
                                DropdownBorderBrush="#CCCCCC"/>
                        </StackPanel>

                        <!-- Section dropdown -->
                        <StackPanel Grid.Column="1" Orientation="Vertical" Margin="15,0,0,0">
                            <TextBlock
                            Margin="0,0,0,10"
                            HorizontalAlignment="Center"
                            Foreground="{StaticResource LightPrimaryBrush}"
                            FontSize="16"
                            FontWeight="Medium"
                            FontFamily="{StaticResource NormalFont}">
                            Sección:
                            </TextBlock>

                            <userControls:Dropdown 
                                Width="200"
                                ItemsSource="{Binding Sections}" 
                                SelectedItem="{Binding SelectedSection, Mode=TwoWay}"
                                DisplayMemberPath="Name"
                                Background="{StaticResource LightBackgroundBrush}"
                                BorderBrush="#666666"
                                BorderThickness="2"
                                Foreground="{StaticResource LightPrimaryBrush}"
                                FontFamily="{StaticResource NormalFont}"
                                ArrowBrush="#666666"
                                DropdownBackground="{StaticResource LightBackgroundBrush}"
                                DropdownBorderBrush="#CCCCCC"/>
                        </StackPanel>
                    </Grid>
                
                    <!-- Data grid -->
                    <userControls:DataGrid Grid.Row="1"
                            ColumnHeaders="{Binding ColumnHeaders}"
                            Rows="{Binding StudentRows, Mode=TwoWay}"
                            BorderColor="{StaticResource LightAccentBrush}"
                            BorderThickness="2"
                            BorderRadius="6"
                            FontFamily="{StaticResource NormalFont}"
                            FontColor="{StaticResource LightPrimaryBrush}"
                            ColumnWidth="120"/>

                    <!--  Get Report Button  -->
                    <userControls:Button Grid.Row="2"
                                         ButtonContent="Obtener planilla"
                                         Command="{Binding GenerateReportCommand}"
                                         FontSize="12"
                                         CornerRadius="4"
                                         Margin="0,20,0,0"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Page>